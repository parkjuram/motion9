{% extends "supervisor/base.html" %}
{% load staticfiles %}

{% block javascripts %}
    <script>
        var urlForCreateOrUpdateSurveyResult = "{% url 'supervisor:create_or_update_survey_result' user_survey_id=user_survey_id %}"
    </script>
    {{ block.super }}
    <script src="{% static "common/js/csrf.js" %}" async></script>
    <script src="{% static "supervisor/js/create_or_update_survey_result.js" %}" async></script>
{% endblock javascripts %}

{% block content %}
    <div class="row">
        <h3>설문내용</h3>
        {% for user_survey_detail in user_survey_details %}
            <h4>{{ user_survey_detail.question }}</h4>
            <h6>{{ user_survey_detail.answer }}</h6>
        {% endfor %}
        <br>
    </div>
    {% if user_survey_again %}
        <div class="row">
        <h3>재요청 내용</h3>
            <h6>재요청 항목: {{ user_survey_again.item }}</h6>
            <h6>이유: {{ user_survey_again.reason }}</h6>
            <h6>추가comments: {{ user_survey_again.comments }}</h6>
        <br>
    </div>
    {% endif %}

    <div class="row">
        <h3>입력내용</h3>
        <textarea id="textarea-general-review" class="form-control" rows="4" placeholder="분석총평">{{ general_review }}</textarea>
        <br>

        <form class="form-inline">
            예산
            <input type="number" class="form-control" id="budget-min" placeholder="Min Budget" value="{{ budget_min }}"> ~
            <input type="number" class="form-control" id="budget-max" placeholder="Max Budget" value="{{ budget_max }}"> ~
        </form>
        <br>

        <textarea id="textarea-additional-comment" class="form-control" rows="4" placeholder="추가 Comments">{{ additional_comment }}</textarea>
        <br>
    </div>

    <div class="row">
        <h4>필터</h4>
        <form class="form-inline">
            <h6>가격</h6>
            <input type="number" class="form-control" id="min-price" placeholder="Min price"> ~
            <input type="number" class="form-control" id="max-price" placeholder="Max price">
        </form>
        <form class="form-inline">
            <h6>카테고리</h6>
            {% for category in categories %}
                <label class="checkbox-inline">
                    <input type="checkbox" class="checkbox-category" value="{{ category }}">{{ category }}
                </label>
            {% endfor %}
        </form>
        <form class="form-inline">
            <h6>브랜드</h6>
            {% for brand in brands %}
                <label class="checkbox-inline">
                    <input type="checkbox" class="checkbox-brand" value="{{ brand }}">{{ brand }}
                </label>
            {% endfor %}
        </form>
        <form class="form-inline">
            <h6>피부타입</h6>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-skin-type" value="d">건성
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-skin-type" value="n">중성
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-skin-type" value="o">지성
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-skin-type" value="c">복합성
            </label>
        </form>
        <form class="form-inline">
            <h6>특징</h6>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-feature" value="wh">미백
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-feature" value="wr">주름
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-feature" value="tr">트러블
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-feature" value="no">특징없음
            </label>
        </form>
    </div>

    <div class="row">
        <h3>화장품 리스트</h3>
        <table id="table-product-list" class="table table-striped">
            <tr>
                <th>-</th>
                <th>화장품</th>
                <th>가격</th>
                <th>브랜드</th>
                <th>카테고리</th>
                <th>썸네일</th>
                <th>피부타입</th>
                <th>특징</th>
                <th>키워드</th>
                <th>-</th>
            </tr>
            {% for product in products %}
                <tr product-id="{{ product.id }}" select-type="{{ product.category.name }}">
                    <td><input type="checkbox" class="is-apply"></td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ product.brand }}</td>
                    <td>{{ product.category.name_for_kor }}</td>
                    <td>{{ product.thumbnail }}</td>
                    <td>{{ product.skin_type }}</td>
                    <td>{{ product.feature }}</td>
                    <td>
                        {% for keyword in product.keyword %}
                            ({{ keyword }})
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>

    <div class="row">
        <button id="btn-enter-to-database" class="btn btn-primary">DB에 입력하기</button>
    </div>

{% endblock content %}